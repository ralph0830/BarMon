바몬 (BarMon)
제품 요구사항 정의서 (Product Requirements Document, PRD)

---

## [2024-06-09] 개발 진행 및 기술/구현 사항 요약

### 1. Flutter 프로젝트 구조 및 주요 기술
- Flutter + Riverpod 상태관리
- mobile_scanner(카메라 바코드 스캔), crypto(해시/랜덤)
- 바몬 데이터 모델, StateNotifierProvider, 동적 생성/추가
- UI: 내 바몬 리스트(카드형), 상세, 바코드 스캔(카메라)

### 2. 바코드 스캔 및 바몬 생성 로직
- 모든 바코드(숫자/문자/특수문자 등) 스캔 가능
- 계정ID+바코드값을 SHA-256 해시 → 시드(64자리) 생성
- **같은 계정+같은 바코드 → 항상 같은 결과**
- **다른 계정+같은 바코드 → 완전히 다른 결과(랜덤성)**
- **비즈니스 바코드(BIZ_, EVENT_ 등 prefix) → 모든 계정 동일 결과**
- 시드에서 능력치/속성/희귀도/종족 등 추출
- 중복 바몬 방지(동일 id 존재 시 추가 안함)

### 3. 주요 폴더/파일 구조
- lib/models/barmon.dart: 데이터 모델
- lib/providers/barmon_provider.dart: StateNotifierProvider, 동적 추가
- lib/utils/barmon_generator.dart: 시드/능력치 생성 유틸
- lib/screens/barmon_list_page.dart: 리스트+스캔 버튼
- lib/screens/barcode_scan_page.dart: 카메라 스캔
- lib/screens/barmon_detail_page.dart: 상세
- lib/widgets/barmon_card.dart, barmon_badge.dart: UI 위젯

### 4. Android/iOS 권한 및 설정
- AndroidManifest.xml: <uses-permission android:name="android.permission.CAMERA" />
- Info.plist: <key>NSCameraUsageDescription</key> 추가

### 5. 기타
- pubspec.yaml: flutter_riverpod, mobile_scanner, crypto 등 의존성 명시
- NDK 버전 이슈, adb 무선 디버깅 방법 등 개발 환경 팁
- 인증 시스템은 Supabase Auth를 표준으로 사용하며, 계정/데이터/권한 관리를 Supabase Auth 및 Starbase 서버에서 처리한다.

---

# 이어서 작업하기 위한 추천 방법

1. **전체 프로젝트 폴더(예: barmon/)를 git 저장소로 관리**
   - GitHub, GitLab, Bitbucket 등 원격 저장소에 push
   - .gitignore, README.md 등 포함
2. **다른 컴퓨터에서 git clone**
   - 의존성 설치: `flutter pub get`
   - Android/iOS 환경 세팅(권한, NDK 등) 확인
3. **개발 환경 세팅**
   - Android Studio, VSCode, Flutter SDK, adb 등 설치
   - 환경 변수(PAT) 설정, adb 무선 디버깅 필요시 platform-tools 경로 추가
4. **flutter run**으로 바로 실행/개발 가능
5. **중요: pubspec.yaml, android/ios 권한, utils/provider/model 등 최신화 확인**

---

# 기타 참고
- 바코드 스캔/생성 로직, UI/상태관리, 무선 디버깅 등 상세 내용은 이 PRD 최신본 참고
- 추가 요구/이슈/설계 변경 시 이 파일에 계속 업데이트

---

# (이하 기존 PRD 내용)

# 바몬(BarMon) 세계관 & 스토리 기획서

🧭 세계관 설정 – 《바코드로 이어진 두 세계》
세상 모든 물건에는 고유한 '바코드'가 있다.
인간은 그것을 단순한 상품 식별 코드로 생각했지만…
사실 바코드는 다른 세계로 통하는 열쇠였다.

이 바코드를 통해 연결된 세계를 **"바코디아(Barcodia)"**라고 부른다.
그곳은 **"바몬(BarMon)"**이라 불리는 존재들이 살아가는,
코드와 데이터, 생명의 에너지로 이루어진 세계다.

바코디아는 오래 전부터 인간 세계의 바코드를 통해 에너지를 공급받아왔다.
그러나 최근, 인간의 바코드 사용이 급격히 늘면서 **"바몬 에너지의 왜곡"**이 시작되고,
일부 바몬들이 폭주하거나 타락하는 사태가 벌어진다.

🧒 주인공 설정
이름: 민우 (사용자 닉네임)

나이: 13세

설정: 중학생. 우연히 아버지가 버린 낡은 PDA를 주운 날,
그 기기 안에서 바코디아와 연결되는 **'소환 앱'**이 깨어난다.

민우는 현실에서 바코드를 스캔할 수 있는 능력을 가진 **"바몬 소환사"**가 된다.

🧬 바몬의 정의
BarMon (Barcode Monster): 현실의 바코드를 스캔하여 소환되는 생명체

속성: 화염, 수, 전기, 암흑, 빛, 금속, 식물, 데이터 등

종류:

일반형 바몬 (실생활 제품에서 자주 나옴)

희귀 바몬 (특정 조건 or 희귀 바코드)

전설 바몬 (정해진 실물 바코드에서만 소환됨, 지역 기반 또는 이벤트)

성격: 소환자에 따라 성격이 다르게 깨어남

🗺️ 주요 설정 요소
요소	설명
바코디아(Barcodia)	바몬들이 사는 디지털 코드 세계
코어바(CoreBar)	바몬의 생명을 유지하는 핵, 바코드 고유 해시값
바몬 소환 앱	민우가 사용하는 Flutter 기반 앱으로, 현실 바코드를 스캔해 바몬 소환
타락 바몬	데이터 오염으로 인해 변이된 바몬들. 공격적이며 파괴적
소환사(Summoner)	바몬과 계약하고 싸우는 인간. 전설의 소환사들이 과거 존재했다고 전해짐
바코드 성소	희귀 바몬이 잠든 전설의 장소. QR 코드/바코드 수집으로 접근 가능
바몬 결계	바몬끼리만 전투할 수 있는 안전한 격리 공간

⚔️ 게임 플레이 흐름
현실 물건의 바코드 스캔 → 바몬 소환

속성과 희귀도에 따라 다양한 바몬 등장

AI 또는 다른 플레이어와 전투 (PvE / PvP)

바몬을 강화, 진화시켜 최강의 소환사로 성장

스토리 진행: 타락 바몬을 정화하고 바코디아를 구하는 여정

이벤트 및 퀘스트: 특정 상점, 장소에서만 소환되는 바몬 등장

🎭 예시 등장 인물 & 바몬
이름	설명
민우	주인공. 초보 소환사이자 바코디아의 열쇠
유이	민우의 친구. 분석형. 바몬 도감을 정리하는 역할
아르코	전설의 바몬. 빛 속성. 민우가 처음 소환한 파트너
그라버스트	타락 바몬. 전기 속성. 실험실 폐기물 바코드에서 태어남
루크	라이벌. 타락 바몬과 계약한 소환사. 의문의 단체 소속

💡 핵심 재미 요소
현실 연동: 어디서든 물건을 스캔하면 바몬이 나올 수 있어 탐험 요소 UP

바몬 도감 완성 욕구: 스캔 많이 할수록 희귀 바몬 수집 가능

PVP / 토너먼트: 나만의 바몬으로 대전

진화 루트: 같은 바몬도 성장에 따라 다른 모습으로 변화

실제 기업/브랜드 콜라보: 특정 제품 바코드로만 얻을 수 있는 이벤트 바몬 출시 가능

🧪 예시 바몬 디자인 (텍스트 기반)
아르코(Arco)

속성: 빛

형태: 날개 달린 수정 코어 형태의 생명체

설명: 오래된 학습 리더기에서 소환된 순수 바몬. "희망의 빛"을 품는다.

칩모어(Chipmore)

속성: 금속

형태: 칩과 회로로 된 두더지 형태

설명: 오래된 MP3 플레이어에서 발견된 바몬. 전자기기 친화력 ↑

슬라조크(Slazork)

속성: 독

형태: 화학 약품이 흐르는 점액 괴물

설명: 폐건전지에 남은 바코드에서 소환됨

✅ 정리
요소	내용
몬스터 명칭	바몬 (BarMon)
세계관	바코드를 통해 연결된 생명의 세계 '바코디아'
주제	바코드 → 몬스터 소환 → 성장 & 전투
사용자 참여	실제 물건 탐색, 희귀 바코드 공유, PvP, 도감 완성
확장성	제휴 바코드, 스토어 이벤트, NFT/AR 연동까지 확장 가능

